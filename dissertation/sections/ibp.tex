\documentclass[../dissertation.tex]{subfiles}

\begin{document}
For acquiring gradient on integer Sobolev spaces from $L^2$ gradient over boundary-free $\Omega$,
there are two main ``rules'' one could use.

\begin{lemma}[Shifting Gradient Operator]
    \label{lemma: Shifting Gradient Operator}
    \begin{equation}
        \inner{\nabla f,\nabla g}_{L^2} = -\inner{\laplacian f, g}_{L^2} = -\inner{f, \laplacian g}_{L^2}
    \end{equation}
    \begin{proof}
        \begin{align*}
            \inner{\nabla f, \nabla g}_{L^2} &= \int_{\Omega} \nabla f \cdot \nabla g \intd V \\
            &= \int_{\Omega} \left( \nabla \cdot \left( g \nabla f \right) - g \laplacian f \right) \intd V \\
            &\stackrel{\text{IBP}}{=} \underbrace{\oint_{\partial \Omega} g \nabla f \cdot \nbf \intd s}_{\text{Boundary Term}} - \int_{\Omega} g \laplacian f \intd V\\
            &= -\inner{\laplacian f, g}_{L^2} + \underbrace{\oint_{\partial \Omega} g \nabla f \cdot \nbf \intd s}_{\text{Boundary Term}}
        \end{align*}
        For boundary-free $\Omega$, boundary terms can be taken to be zero.
    \end{proof}
\end{lemma}

\begin{lemma}[Shifting Laplacian Operator]
    \label{lemma: Shifting Laplacian Operator}
    \begin{equation}
        \inner{\laplacian f, g}_{L^2} = \inner{f, \laplacian g}
    \end{equation}
    \begin{proof}
        \begin{align*}
            \inner{\laplacian f, g}_{L^2} &= \int_{\Omega} g \laplacian f \intd V \\
            &= \int_{\Omega} \left( \nabla \cdot \left( g \nabla f \right) - \nabla f \cdot \nabla g \right) \intd V \\
            &\stackrel{\text{IBP}}{=} \underbrace{\oint_{\partial \Omega} g \nabla f \cdot \nbf \intd s}_{\text{Boundary Term}} - \int_{\Omega} \nabla f \cdot \nabla g \intd V \\
            &= \underbrace{\oint_{\partial \Omega} g \nabla f \cdot \nbf \intd s}_{\text{Boundary Term}} - \inner{\nabla f, \nabla g}_{L^2}
        \end{align*}
        Now, use lemma \ref{lemma: Shifting Gradient Operator} and take boundary terms to be zero.
    \end{proof}
\end{lemma}

\end{document}
